!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";var i=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(i);document.addEventListener("DOMContentLoaded",function(){new s.default(document.querySelector(".search-1"),"search-1"),new s.default(document.querySelector(".search-2"),"search-2")})},function(e,t,n){"use strict";function i(e,t){var n=this;this.$root=e,this.DOM=this.attachTemplate(t),this.selectedSuggestion=null;var i=this.throttle(this.handleInput,250);this.DOM.inputField.addEventListener("input",i),this.DOM.inputField.addEventListener("click",function(e){n.handleInputFocus(e)}),this.DOM.suggestionsContainer.addEventListener("click",function(e){n.handleLinkClick(e)}),this.DOM.clearBtn.addEventListener("click",function(){n.handleClearClick()}),this.DOM.submitBtn.addEventListener("click",function(e){n.sendForm(e)}),window.addEventListener("resize",function(){n.manageOverflowSuggestionsGradients()}),this.$root.addEventListener("keydown",function(e){38===e.keyCode||40===e.keyCode?n.selectSuggestion(e):13===e.keyCode&&n.handlePressEnter(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=n(2),o="selectable",r=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),a=new RegExp("(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)","i"),u=new RegExp("(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");i.prototype.attachTemplate=function(e){var t=(0,s.render)({form_id:e,phrase:"",domain:"",url:""});return this.$root.appendChild(t.form),t},i.prototype.throttle=function(e,t){function n(){if(i)return s=arguments,void(o=this);e.apply(this,arguments),i=!0,setTimeout(function(){i=!1,s&&(n.apply(o,s),s=o=null)},t)}var i=!1,s=null,o=null;return n.bind(this)},i.prototype.handleInput=function(e){var t=e.target.value;if(t.length>0){this.manageSubmitBtnDisable(!1),this.checkSuggestionsVisible()&&this.hasSelections()&&this.removeSelections();this.validateURL(t)?(this.manageSuggestionsDropdownVisibility(!0),this.setSuggestionsAndLinks(t),this.manageOverflowSuggestionsGradients()):(this.manageSuggestionsDropdownVisibility(!1),this.clearSuggestionsAndLinks())}else this.manageSubmitBtnDisable(!0),this.manageSuggestionsDropdownVisibility(!1),this.clearSuggestionsAndLinks()},i.prototype.handleInputFocus=function(e){e.target.focus(),this.checkSuggestionsVisible()&&this.hasSelections()&&this.removeSelections()},i.prototype.handleLinkClick=function(e){e.preventDefault(),this.goToLink(e.target)},i.prototype.handleClearClick=function(){this.manageSubmitBtnDisable(!0),this.manageSuggestionsDropdownVisibility(!1),this.clearSuggestionsAndLinks()},i.prototype.handlePressEnter=function(e){if("INPUT"===e.target.nodeName){if(this.checkSuggestionsVisible()&&this.hasSelections()){var t=this.DOM.suggestionsContainer.querySelector("."+o+".selected a");this.goToLink(t)}this.sendForm(e)}},i.prototype.goToLink=function(e){window.location.href=decodeURIComponent(e.getAttribute("href"))},i.prototype.sendForm=function(e){e.preventDefault();var t=new FormData;t.append("id",""+this.DOM.form.id),t.append("query",this.DOM.inputField.value);var n=new XMLHttpRequest;n.open("POST","http://super-analytics.com"),n.send(t),this.DOM.inputField.value="",this.manageSubmitBtnDisable(!0),this.manageSuggestionsDropdownVisibility(!1),this.clearSuggestionsAndLinks()},i.prototype.validateURL=function(e){return!!e.match(r)},i.prototype.setSuggestionsAndLinks=function(e){this.DOM.phraseLink.textContent=e,this.DOM.phraseLink.setAttribute("href","http://super-analytics.com?suggestionType=phrase"+encodeURIComponent("&query="+e));var t=e.match(a)[0];this.DOM.domainLink.textContent=t,this.DOM.domainLink.setAttribute("href","http://super-analytics.com?suggestionType=domain"+encodeURIComponent("&query="+t));var n=e.match(u)[0];this.DOM.urlLink.textContent=n,this.DOM.urlLink.setAttribute("href","http://super-analytics.com?suggestionType=url"+encodeURIComponent("&query="+n))},i.prototype.clearSuggestionsAndLinks=function(){this.DOM.phraseLink.textContent="",this.DOM.domainLink.textContent="",this.DOM.urlLink.textContent="",this.DOM.phraseLink.parentNode.classList.remove("hidden"),this.DOM.domainLink.parentNode.classList.remove("hidden"),this.DOM.urlLink.parentNode.classList.remove("hidden")},i.prototype.checkSuggestionsVisible=function(){return this.DOM.suggestionsContainer.classList.contains("visible")},i.prototype.hasSelections=function(){return!!this.DOM.suggestionsContainer.querySelector("."+o+".selected")},i.prototype.addSelectToSuggestion=function(e){e.classList.contains("selected")||e.classList.add("selected")},i.prototype.removeSelections=function(){var e=void 0;arguments.length>0?e=arguments.length<=0?void 0:arguments[0]:(e=this.DOM.suggestionsContainer.querySelector(".selected"),this.selectedSuggestion=null),e&&e.classList.remove("selected")},i.prototype.selectSuggestion=function(e){function t(e){var t=38===e?"last":"first",n=this.DOM.suggestionsContainer.querySelector("li:"+t+"-child");return this.addSelectToSuggestion(n),n}function n(e,t){var n=void 0,i="last";return 38===e?n=t.previousElementSibling:40===e&&(n=t.nextElementSibling,i="first"),n&&n.classList.contains(o)||("last"===i?this.DOM.inputField.focus():n=this.DOM.suggestionsContainer.querySelector("li:"+i+"-child")),this.removeSelections(t),n&&this.addSelectToSuggestion(n),n}"INPUT"===e.target.nodeName&&(this.selectedSuggestion=this.selectedSuggestion?n.call(this,e.keyCode,this.selectedSuggestion):t.call(this,e.keyCode))},i.prototype.manageSubmitBtnDisable=function(e){e?this.DOM.submitBtn.setAttribute("disabled",""):this.DOM.submitBtn.removeAttribute("disabled")},i.prototype.manageSuggestionsDropdownVisibility=function(e){e?this.DOM.suggestionsContainer.classList.add("visible"):this.DOM.suggestionsContainer.classList.remove("visible")},i.prototype.manageOverflowSuggestionsGradients=function(){for(var e=[this.DOM.phraseLink.parentNode,this.DOM.domainLink.parentNode,this.DOM.urlLink.parentNode],t=0,n=e.length;t<n;t++){var i=e[t].cloneNode(!0);i.style.display="inline-block",i.style.width="auto",i.style.fontWeight="bold",i.style.visibility="hidden",document.body.appendChild(i),i.clientWidth>e[t].clientWidth?e[t].classList.remove("hidden"):e[t].classList.add("hidden"),i.remove()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=document.createElement("div"),n=document.getElementById(e);t.innerHTML=n.innerHTML;var i=t.children[0];return t.removeChild(i),i},s=function(e){var t=i("searchTemplate"),n=t.querySelector(".search__field"),s=t.querySelector(".search__field-clear"),o=t.querySelector(".search__submit"),r=t.querySelector(".search__suggestions-container"),a=t.querySelector(".search__suggestion.phrase a"),u=t.querySelector(".search__suggestion.domain a"),d=t.querySelector(".search__suggestion.url a");return e.form_id&&(t.id=e.form_id),e.phrase&&(a.innerText=e.phrase),e.domain&&(u.innerText=e.domain),e.url&&(d.innerText=e.url),{form:t,inputField:n,clearBtn:s,submitBtn:o,suggestionsContainer:r,phraseLink:a,domainLink:u,urlLink:d}};t.render=s}]);